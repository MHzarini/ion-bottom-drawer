!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("hammerjs"),require("@angular/core"),require("@ionic/angular")):"function"==typeof define&&define.amd?define("ion-bottom-nav-drawer",["exports","hammerjs","@angular/core","@ionic/angular"],e):e(t["ion-bottom-nav-drawer"]={},t.Hammer,t.ng.core,t.angular)}(this,function(t,n,i,e){"use strict";var o={Bottom:0,Docked:1,Top:2};o[o.Bottom]="Bottom",o[o.Docked]="Docked",o[o.Top]="Top";var a=function(){function t(t,e,n,a){this._element=t,this._renderer=e,this._domCtrl=n,this._platform=a,this.state=o.Bottom,this.stateChange=new i.EventEmitter,this._BOUNCE_DELTA=30,this.dockedHeight=50,this.shouldBounce=!0,this.disableDrag=!1,this.distanceTop=0,this.transition="0.25s ease-in-out",this.minimumHeight=0,this.dockedHeight=50}return t.prototype.ngAfterViewInit=function(){var e=this;this._renderer.setStyle(this._element.nativeElement.querySelector(".ion-bottom-drawer-scrollable-content"),"touch-action","none"),this._setDrawerState(this.state);var t=new n(this._element.nativeElement);t.get("pan").set({enable:!0,direction:n.DIRECTION_VERTICAL}),t.on("pan panstart panend",function(t){if(!e.disableDrag)switch(t.type){case"panstart":e._handlePanStart();break;case"panend":e._handlePanEnd(t);break;default:e._handlePan(t)}})},t.prototype.ngOnChanges=function(t){t.state&&this._setDrawerState(t.state.currentValue)},t.prototype._setDrawerState=function(t){switch(this._renderer.setStyle(this._element.nativeElement,"transition",this.transition),t){case o.Bottom:this._setTranslateY("calc(100vh - "+this.minimumHeight+"px)");break;case o.Docked:this._setTranslateY(this._platform.height()-this.dockedHeight+"px");break;default:this._setTranslateY(this.distanceTop+"px")}},t.prototype._handlePanStart=function(){this._startPositionTop=this._element.nativeElement.getBoundingClientRect().top},t.prototype._handlePanEnd=function(t){if(this.shouldBounce&&t.isFinal)switch(this._renderer.setStyle(this._element.nativeElement,"transition",this.transition),this.state){case o.Docked:this._handleDockedPanEnd(t);break;case o.Top:this._handleTopPanEnd(t);break;default:this._handleBottomPanEnd(t)}this.stateChange.emit(this.state)},t.prototype._handleTopPanEnd=function(t){t.deltaY>this._BOUNCE_DELTA?this.state=o.Docked:this._setTranslateY(this.distanceTop+"px")},t.prototype._handleDockedPanEnd=function(t){var e=Math.abs(t.deltaY);e>this._BOUNCE_DELTA&&t.deltaY<0?this.state=o.Top:e>this._BOUNCE_DELTA&&0<t.deltaY?this.state=o.Bottom:this._setTranslateY(this._platform.height()-this.dockedHeight+"px")},t.prototype._handleBottomPanEnd=function(t){-t.deltaY>this._BOUNCE_DELTA?this.state=o.Docked:this._setTranslateY("calc(100vh - "+this.minimumHeight+"px)")},t.prototype._handlePan=function(t){var e=t.center.y;if(this._renderer.setStyle(this._element.nativeElement,"transition","none"),0<e&&e<this._platform.height()&&("panup"===t.additionalEvent||"pandown"===t.additionalEvent)){var n=this._startPositionTop+t.deltaY;n>=this.distanceTop?this._setTranslateY(n+"px"):n<this.distanceTop&&this._setTranslateY(this.distanceTop+"px"),n>this._platform.height()-this.minimumHeight&&this._setTranslateY(this._platform.height()-this.minimumHeight+"px")}},t.prototype._setTranslateY=function(t){var e=this;this._domCtrl.write(function(){e._renderer.setStyle(e._element.nativeElement,"transform","translateY("+t+")")})},t.decorators=[{type:i.Component,args:[{selector:"ion-bottom-nav-drawer",template:'<ion-content class="ion-bottom-drawer-scrollable-content" no-bounce>\n  <ng-content></ng-content>\n</ion-content>\n',styles:[":host{width:100%;height:100%;position:absolute;left:0;z-index:11!important;background-color:#fff;-webkit-transform:translateY(100vh);transform:translateY(100vh)}"]}]}],t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer2},{type:e.DomController},{type:e.Platform}]},t.propDecorators={dockedHeight:[{type:i.Input}],shouldBounce:[{type:i.Input}],disableDrag:[{type:i.Input}],distanceTop:[{type:i.Input}],transition:[{type:i.Input}],state:[{type:i.Input}],minimumHeight:[{type:i.Input}],stateChange:[{type:i.Output}]},t}(),s=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[a],imports:[e.IonicModule],exports:[a]}]}],t}();t.DrawerState=o,t.IonBottomNavDrawerComponent=a,t.IonBottomNavDrawerModule=s,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ion-bottom-nav-drawer.umd.min.js.map